// Code generated by Fern. DO NOT EDIT.

package ocr

import (
	context "context"
	payabli "github.com/payabli/sdk-go"
	core "github.com/payabli/sdk-go/core"
	internal "github.com/payabli/sdk-go/internal"
	option "github.com/payabli/sdk-go/option"
)

type Client struct {
	WithRawResponse *RawClient

	options *core.RequestOptions
	baseURL string
	caller  *internal.Caller
}

func NewClient(options *core.RequestOptions) *Client {
	return &Client{
		WithRawResponse: NewRawClient(options),
		options:         options,
		baseURL:         options.BaseURL,
		caller: internal.NewCaller(
			&internal.CallerParams{
				Client:      options.HTTPClient,
				MaxAttempts: options.MaxAttempts,
			},
		),
	}
}

// Use this endpoint to upload an image file for OCR processing. The accepted file formats include PDF, JPG, JPEG, PNG, and GIF. Specify the desired type of result (either 'bill' or 'invoice') in the path parameter `typeResult`. The response will contain the OCR processing results, including extracted data such as bill number, vendor information, bill items, and more.
func (c *Client) OcrDocumentForm(
	ctx context.Context,
	typeResult payabli.TypeResult,
	request *payabli.FileContentImageOnly,
	opts ...option.RequestOption,
) (*payabli.PayabliApiResponseOcr, error) {
	response, err := c.WithRawResponse.OcrDocumentForm(
		ctx,
		typeResult,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Use this endpoint to submit a Base64-encoded image file for OCR processing. The accepted file formats include PDF, JPG, JPEG, PNG, and GIF. Specify the desired type of result (either 'bill' or 'invoice') in the path parameter `typeResult`. The response will contain the OCR processing results, including extracted data such as bill number, vendor information, bill items, and more.
func (c *Client) OcrDocumentJson(
	ctx context.Context,
	typeResult payabli.TypeResult,
	request *payabli.FileContentImageOnly,
	opts ...option.RequestOption,
) (*payabli.PayabliApiResponseOcr, error) {
	response, err := c.WithRawResponse.OcrDocumentJson(
		ctx,
		typeResult,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}
